# 赛博疗愈师 MVP需求文档

## 1. 产品概述

### 1.1 产品名称

赛博疗愈师

### 1.2 产品描述

基于传统命理数据的AI心理咨询与视觉疗愈系统，利用Gemini 3 Pro的强大能力为用户提供个性化心理咨询服务。

### 1.3 核心功能

- 用户基本信息输入（生日、性别、情绪文本等）
- 八字排盘计算
- Gemini 3 Pro智能分析与报告生成
- 兑换码验证机制
- 文本报告输出

## 2. 功能详细说明

### 2.1 输入模块

- 生日信息：年/月/日/时
- 性别选择
- 情绪文本输入框
- 兑换码验证输入

### 2.2 计算模块\n- 八字排盘计算

- 五行分析
- 日主确定
- 喜用神判断

### 2.3 AI分析模块

- Gemini 3 Pro调用
- 按模板生成报告
- 结构化输出：能量原型、光与影、当下回应、行动处方四个部分

### 2.4 输出模块

- 纯文本报告展示
- 按模板分段显示

### 2.5 兑换码系统

- 兑换码校验API
- 使用权限控制
- 简单表存储（code, max_uses, used, expires_at, active）

## 3. 技术架构

### 3.1 后端核心模块

- bazi_calc: 排盘/五行/日主/喜用神计算
- prompt_builder: 构建投喂Gemini的输入文本
- gemini_client: 调用Gemini 3 Pro API
- redeem_code: 兑换码管理模块

### 3.2 API接口

- POST /redeem：兑换码校验，返回临时token
- POST /report：携带token + 输入数据，返回报告

### 3.3 技术栈

- FastAPI
- lunar_python（八字计算库）
- Gemini SDK --- gemini-apikey AIzaSyD2D-1-FsNcUCI_jvYFEWrguclbPu581B0 这个

## 4. 设计风格

### 4.1 配色方案

深空蓝为主色调，搭配月光银和星光金，营造神秘科技感

### 4.2 视觉细节

圆润的卡片式设计，柔和的渐变背景，简洁的线条图标风格

### 4.3 整体布局

垂直卡片式布局，突出层次感和专注度，减少视觉干扰
